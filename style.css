body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; }
#app { width: 100%; height: 100%; position: relative; max-width: 500px; margin: 0 auto; overflow: hidden; }

/* 페이지 기본 */
.page { position: absolute; width: 100%; height: 100%; display: none; opacity: 0; transition: 0.6s ease; }
.page.active { display: block; opacity: 1; }
.full-bg { width: 100%; height: 100%; object-fit: cover; position: absolute; }

/* 1페이지 연출 */
.zoom-bg { animation: zoom 10s infinite alternate; }
@keyframes zoom { from { transform: scale(1); } to { transform: scale(1.15); } }

/* 캐릭터 애니메이션 */
.char { position: absolute; z-index: 10; transform: translateX(-50%); pointer-events: none; }
.floating { top: 30%; left: 50%; width: 55%; animation: float 3s infinite ease-in-out; }
@keyframes float { 0%, 100% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, -20px); } }

/* 2페이지 무한 슬라이더 */
.slider-container { position: absolute; bottom: 25%; width: 100%; overflow-x: auto; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; z-index: 20; }
.slider-container::-webkit-scrollbar { display: none; }
.card-track { display: flex; padding: 0 33.33%; } /* 양옆 여백으로 중앙 배치 유도 */
.card-item { flex: 0 0 33.33vw; width: 33.33vw; scroll-snap-align: center; transition: 0.4s; filter: brightness(0.5); }
.card-item.active { filter: brightness(1.2); transform: scale(1.2) translateY(-10px); }
.center-line { position: absolute; bottom: 22%; left: 50%; transform: translateX(-50%); width: 2px; height: 150px; background: rgba(255,215,0,0.5); z-index: 15; }

/* 3페이지 마법진 */
.magic-circle { position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); width: 280px; height: 280px; border: 2px dashed #fff; border-radius: 50%; animation: rotate 4s linear infinite; opacity: 0.3; }
@keyframes rotate { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
.loading-text { position: absolute; bottom: 20%; width: 100%; text-align: center; color: #fff; font-weight: bold; text-shadow: 0 0 10px #000; }

/* 버튼 및 기타 */
.btn-img { position: absolute; cursor: pointer; transform: translateX(-50%); z-index: 30; transition: 0.2s; }
.btn-img:active { transform: translateX(-50%) scale(0.9); }
.pulse { bottom: 8%; left: 50%; width: 60%; animation: pulse 1.5s infinite; }
@keyframes pulse { 0%, 100% { transform: translateX(-50%) scale(1); } 50% { transform: translateX(-50%) scale(1.05); } }
.btn-pick { bottom: 5%; left: 50%; width: 50%; }

.final-char-box { position: absolute; top: 10%; left: 50%; transform: translateX(-50%); width: 130px; z-index: 20; }
.char-5 { width: 100%; height: auto; }
.btn-group-final { position: absolute; bottom: 5%; width: 100%; display: flex; justify-content: center; gap: 15px; z-index: 40; }
.btn-small { width: 40%; cursor: pointer; }